<!--
 * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.
 *
 * WSO2 Inc. licenses this file to you under the Apache License,
 * Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied. See the License for the
 * specific language governing permissions and limitations
 * under the License.
-->





<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta name="docsearch:language" content="en" />
      <meta name="docsearch:version" content="1.0.0" />
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
        <link rel="canonical" href="https://wso2.com/ballerina/vscode/docs/visual-programming/data-mapper/">
      
      
        <meta name="author" content="WSO2">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.5.1">
    
    
      
        <title>Data Mapper - Visual Studio Code Extension</title>
      
    
    

      <link rel="stylesheet" href="../../assets/stylesheets/application.1b62728e.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="#3f51b5">
      
    
<link rel="stylesheet" href="../../assets/fonts/font-awesome.css">

    
      <script src="../../assets/javascripts/modernizr.892d34f1.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:300,400,400i,700|&display=fallback">
        <style>code,kbd,pre{font-family:"","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../assets/lib/highlightjs/default.min.css">
    
      <link rel="stylesheet" href="../../assets/css/theme.css">
    
      <link rel="stylesheet" href="../../assets/css/prism.css">
    
      <link rel="stylesheet" href="../../assets/lib/json-formatter/json-formatter.css">
    
    
<!-- Google Tag Manager/Tracking -->
<script>
/*
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function () {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date();
        a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
    ga('create', 'UA-103065-2', 'auto');
    ga('send', 'pageview');
    */
</script>

<!-- Google Tag Manager -->
  <script>
    (function(w, d, s, l, i) {
      w[l] = w[l] || [];
      w[l].push({
        'gtm.start': new Date().getTime(),
        event: 'gtm.js'
      });
      var f = d.getElementsByTagName(s)[0],
        j = d.createElement(s),
        dl = l != 'dataLayer' ? '&l=' + l : '';
      j.setAttributeNode(d.createAttribute('data-ot-ignore'));
      j.async = true;
      j.src =
        'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
      f.parentNode.insertBefore(j, f);
    })(window, document, 'script', 'dataLayer', 'GTM-PSTXMT');
  </script>
  <!-- End Google Tag Manager -->


    
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="../../assets/stylesheets/choreo-docs-theme.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />

  </head>

  
    
    
   <body dir="ltr" data-md-color-primary="indigo" data-md-color-accent="indigo" class="cChoreoBody">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#data-mapper" tabindex="1" class="md-skip">
        Skip to content
      </a>
    

    <div class="md-container">
      <div>
        
        <!--
 * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.
 *
 * WSO2 Inc. licenses this file to you under the Apache License,
 * Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied. See the License for the
 * specific language governing permissions and limitations
 * under the License.
-->

<header
  class="md-header"
  data-md-component="header"
  id="page-header"
  data-url=""
  data-lang="en"
>
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a
          href="https://wso2.com/ballerina/vscode/docs/"
          title="Visual Studio Code Extension"
          class="md-header-nav__button md-logo"
        >
          
          <img src="../../images/wso2-logo-white.svg" width="24" height="24" />
          
          <span>Ballerina extension for Visual Studio Code</span>
        </a>
      </div>


      <div class="md-flex__cell md-flex__cell--shrink">
        <label
          class="md-icon md-icon--menu md-header-nav__button"
          for="__drawer"
        >
        </label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div
          class="md-flex__ellipsis md-header-nav__title"
          data-md-component="title"
        >
          
          <span class="md-header-nav__topic">
            Visual Studio Code Extension
          </span>

          <span id="pageTitle" class="md-header-nav__topic" align="center">
            Data Mapper
          </span>

          
        </div>
      </div>
      
      <div class="md-flex__cell md-flex__cell--shrink topBarActionsCont">
        <div class="topBarActions">
          
          <a
            href="https://discord.com/invite/ballerinalang"
            class="actionLink"
          >
            <img
              class="actionImg"
              src="../../images/discord-help-icon.svg"
              alt="Discord"
            />
            <div class="text">Get Help</div>
          </a>
           
          <!--
          
        -->
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink" style="width: 16rem;">
        <div class="topBarActionsSearch">
          
          <label
                  class="md-icon md-icon--search md-header-nav__button"
                  for="__search"
          ></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div> 
        </div>
      </div>
    </div>
      
  </nav> 
</header>
        
      </div>
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
    
      <div class="md-nav__source">
        


  

<a href="https://github.com/wso2/docs-ballerina-vscode-extension/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    wso2/docs-ballerina-vscode-extension
  </div>
</a>
      </div>
    
    <ul class="md-nav__list" data-md-scrollfix>
      
        
        
        


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

      
        
        
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2" >
      Get started
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2" >
        Get started
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../get-started/install-the-extension/" title="Install the extension" class="md-nav__link">
      Install the extension
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../get-started/run-a-program/" title="Run a program" class="md-nav__link">
      Run a program
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-3" type="checkbox" id="nav-2-3">
    
    <label class="md-nav__link" for="nav-2-3" >
      Try the code
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-3" >
        Try the code
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../get-started/try-the-code/try-http-services/" title="Try HTTP services" class="md-nav__link">
      Try HTTP services
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../get-started/try-the-code/try-graphql-services/" title="Try GraphQL services" class="md-nav__link">
      Try GraphQL services
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../get-started/build-the-executables/" title="Build the executables" class="md-nav__link">
      Build the executables
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

      
        
        
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3" >
      Edit the code
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3" >
        Edit the code
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../edit-the-code/intellisense/" title="IntelliSense" class="md-nav__link">
      IntelliSense
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../edit-the-code/code-navigation/" title="Code navigation" class="md-nav__link">
      Code navigation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../edit-the-code/code-actions/" title="Code actions" class="md-nav__link">
      Code actions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../edit-the-code/diagnostics/" title="Diagnostics" class="md-nav__link">
      Diagnostics
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../edit-the-code/commands/" title="Commands" class="md-nav__link">
      Commands
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

      
        
        
        

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" checked>
    
    <label class="md-nav__link" for="nav-4" >
      Visual programming
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4" >
        Visual programming
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../sequence-diagram-view/" title="Sequence Diagram view" class="md-nav__link">
      Sequence Diagram view
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-2" type="checkbox" id="nav-4-2">
    
    <label class="md-nav__link" for="nav-4-2" >
      Architecture View
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-2" >
        Architecture View
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../architecture-view/architecture-diagram/" title="Architecture Diagram" class="md-nav__link">
      Architecture Diagram
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../architecture-view/design-using-architecture-diagram/" title="Design using the Architecture Diagram" class="md-nav__link">
      Design using the Architecture Diagram
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../architecture-view/type-diagram/" title="Type Diagram" class="md-nav__link">
      Type Diagram
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc" style="align:center;">
        Data Mapper
      </label>
    
    <a href="./" title="Data Mapper" class="md-nav__link md-nav__link--active">
      Data Mapper
    </a>
    
      
<nav class="md-nav md-nav--secondary">
    
    
    
    
    
    <a href="#" title="On this page" class="nav_link md-icon md-content__icon toc_icon"
       id="tocToggleBtn">keyboard_arrow_right</a>
    <label class="md-nav__title" for="__toc">On this page</label>
    <ul class="md-nav__list" data-md-scrollfix>
        
        <li class="md-nav__item">
  <a href="#set-up-the-prerequisites" class="md-nav__link">
    Set up the prerequisites
  </a>
  
</li>
        
        <li class="md-nav__item">
  <a href="#sample-use-case" class="md-nav__link">
    Sample use case
  </a>
  
</li>
        
        <li class="md-nav__item">
  <a href="#open-the-data-mapper" class="md-nav__link">
    Open the Data Mapper
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#open-with-the-visualize-codelens" class="md-nav__link">
    Open with the Visualize CodeLens
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#open-with-the-diagram-view" class="md-nav__link">
    Open with the Diagram View
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
        <li class="md-nav__item">
  <a href="#provide-inputs-and-output" class="md-nav__link">
    Provide inputs and output
  </a>
  
</li>
        
        <li class="md-nav__item">
  <a href="#define-the-mappings" class="md-nav__link">
    Define the mappings
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-mapping" class="md-nav__link">
    Basic mapping
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#diagnose-and-fix-mapping-errors" class="md-nav__link">
    Diagnose and fix mapping errors
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aggregate-input-and-output-fields" class="md-nav__link">
    Aggregate input and output fields
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#map-the-arrays" class="md-nav__link">
    Map the arrays
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-local-variables" class="md-nav__link">
    Add local variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#manipulate-fields-without-drawing-connections" class="md-nav__link">
    Manipulate fields without drawing connections
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
        
        
        
        
    </ul>
    
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-api-designer/" title="HTTP API Designer" class="md-nav__link">
      HTTP API Designer
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../graphql-designer/" title="GraphQL Designer" class="md-nav__link">
      GraphQL Designer
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

      
        
        
        


  <li class="md-nav__item">
    <a href="../../notebooks/" title="Notebooks" class="md-nav__link">
      Notebooks
    </a>
  </li>

      
        
        
        


  <li class="md-nav__item">
    <a href="../../debug-the-code/" title="Debug the code" class="md-nav__link">
      Debug the code
    </a>
  </li>

      
        
        
        


  <li class="md-nav__item">
    <a href="../../configure-the-extension/" title="Configure the extension" class="md-nav__link">
      Configure the extension
    </a>
  </li>

      
        
        
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8" >
      References
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8" >
        References
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-1" type="checkbox" id="nav-8-1">
    
    <label class="md-nav__link" for="nav-8-1" >
      Statement Editor
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-8-1" >
        Statement Editor
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../references/statement-editor/statement-editor-overview/" title="Statement Editor overview" class="md-nav__link">
      Statement Editor overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../references/statement-editor/call-a-ballerina-library-function/" title="Call a Ballerina library function" class="md-nav__link">
      Call a Ballerina library function
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../references/statement-editor/construct-a-record/" title="Construct a record" class="md-nav__link">
      Construct a record
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../references/statement-editor/define-a-configurable-variable/" title="Define a configurable variable" class="md-nav__link">
      Define a configurable variable
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../references/record-editor/" title="Record Editor" class="md-nav__link">
      Record Editor
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../references/convert-json-to-records/" title="Convert JSON to records" class="md-nav__link">
      Convert JSON to records
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

      
        
        
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9" >
      Release notes
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9" >
        Release notes
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../release-notes/version-3.3.0/" title="Version 3.3.0" class="md-nav__link">
      Version 3.3.0
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release-notes/version-4.0.0/" title="Version 4.0.0" class="md-nav__link">
      Version 4.0.0
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

      
        
        
        


  <li class="md-nav__item">
    <a href="../../license/" title="License" class="md-nav__link">
      License
    </a>
  </li>

      
    </ul>
  </nav>

                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
    
    
    
    
    
    <a href="#" title="On this page" class="nav_link md-icon md-content__icon toc_icon"
       id="tocToggleBtn">keyboard_arrow_right</a>
    <label class="md-nav__title" for="__toc">On this page</label>
    <ul class="md-nav__list" data-md-scrollfix>
        
        <li class="md-nav__item">
  <a href="#set-up-the-prerequisites" class="md-nav__link">
    Set up the prerequisites
  </a>
  
</li>
        
        <li class="md-nav__item">
  <a href="#sample-use-case" class="md-nav__link">
    Sample use case
  </a>
  
</li>
        
        <li class="md-nav__item">
  <a href="#open-the-data-mapper" class="md-nav__link">
    Open the Data Mapper
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#open-with-the-visualize-codelens" class="md-nav__link">
    Open with the Visualize CodeLens
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#open-with-the-diagram-view" class="md-nav__link">
    Open with the Diagram View
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
        <li class="md-nav__item">
  <a href="#provide-inputs-and-output" class="md-nav__link">
    Provide inputs and output
  </a>
  
</li>
        
        <li class="md-nav__item">
  <a href="#define-the-mappings" class="md-nav__link">
    Define the mappings
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-mapping" class="md-nav__link">
    Basic mapping
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#diagnose-and-fix-mapping-errors" class="md-nav__link">
    Diagnose and fix mapping errors
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aggregate-input-and-output-fields" class="md-nav__link">
    Aggregate input and output fields
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#map-the-arrays" class="md-nav__link">
    Map the arrays
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-local-variables" class="md-nav__link">
    Add local variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#manipulate-fields-without-drawing-connections" class="md-nav__link">
    Manipulate fields without drawing connections
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
        
        
        
        
    </ul>
    
</nav>
                  </div>
                </div>
              </div>
            
          
 
          <div class="md-content container">
  
<div class="cChoreoBreadCrumbs">
  
  <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a></li>
    <li>
      <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
    </li>
      
    <li>Visual programming</li>
    <li>
      <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
    </li>
       
    <li>Data Mapper</li>
    
  </ul>
  
  <hr />
</div>
</div>

</div>
            <article class="md-content__inner md-typeset">
              

                
                  <a href="https://github.com/wso2/docs-ballerina-vscode-extension/tree/main/en/docs/visual-programming/data-mapper.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="data-mapper">Data Mapper<a class="headerlink" href="#data-mapper" title="Permanent link">&para;</a></h1>
<p>The visual Data Mapper is a tool, which allows you to visually translate data from one format to another (such as from one JSON format to another). It comes with an intuitive user interface and prevents the need of being aware of the programming logic underneath.</p>
<p>When you map data via the user interface, the Data Mapper generates the required Ballerina source code. Since the Ballerina source code is the single source of truth for the Visual Data Mapper, it also lets you open and edit existing data mappings made via the source code without changing the user experience.</p>
<h2 id="set-up-the-prerequisites">Set up the prerequisites<a class="headerlink" href="#set-up-the-prerequisites" title="Permanent link">&para;</a></h2>
<p>Follow the steps below to set up the prerequisites.</p>
<ol>
<li>
<p>Install the <a href="https://ballerina.io/downloads/">latest Ballerina version</a> and the <a href="https://marketplace.visualstudio.com/items?itemName=wso2.ballerina">Ballerina Visual Studio Code extension</a>.</p>
</li>
<li>
<p>Execute the command below to create a package (if you are not already working on one).</p>
<pre class="codehilite"><code class="language-bash linenums">bal new data-transformation</code></pre>

</li>
<li>
<p>Open the created package in VS Code.</p>
</li>
</ol>
<h2 id="sample-use-case">Sample use case<a class="headerlink" href="#sample-use-case" title="Permanent link">&para;</a></h2>
<p>The below is a simple use case in which you will input data of people and courses in a specific structure and convert and transform those to a different format.</p>
<p>Create three files with the sample data below in JSON format.</p>
<p><strong>Input 1: Person</strong></p>
<pre class="codehilite"><code class="language-json linenums">{
    "id": "1001",
    "firstName": "Vinnie",
    "lastName": "Hickman",
    "age": 15,
    "country": "UK"
}</code></pre>

<p><strong>Input 2: Course</strong></p>
<pre class="codehilite"><code class="language-json linenums">{
    "id": "CS6002",
    "name": "Computation Structures",
    "credits": 4
}</code></pre>

<p><strong>Output</strong></p>
<pre class="codehilite"><code class="language-json linenums">{
    "id": "1001F",
    "fullName": "Vinnie Hickman",
    "age": "15",
    "courses": [
        {"title": "CS6002 - Computation Structures", "credits": 4},
        {"title": "CS6003 - Circuits and Electronics", "credits": 3},
        {"title": "CS6004 - Signals and Systems", "credits": 3}
    ],
    "totalCredits": 10,
    "visaType": "D tier-4"
}</code></pre>

<h2 id="open-the-data-mapper">Open the Data Mapper<a class="headerlink" href="#open-the-data-mapper" title="Permanent link">&para;</a></h2>
<p>There are two different ways of opening the Data Mapper.</p>
<h3 id="open-with-the-visualize-codelens">Open with the <code class="codehilite">Visualize</code> CodeLens<a class="headerlink" href="#open-with-the-visualize-codelens" title="Permanent link">&para;</a></h3>
<p>Add the code below to the <code class="codehilite">main.bal</code> file of the package to define an empty expression bodied function.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>The preferred way to model the transformation logic in Ballerina is via expression-bodied functions. The expression-bodied function below will simply return nil. The function body of it is an expression, which will return a nil value.</p>
</div>
<pre class="codehilite"><code class="language-ballerina linenums">function name() =&gt; ();</code></pre>

<p>Once you add the above function, the VS Code extension will display a CodeLens called <code class="codehilite">Visualize</code> on top of the function. Click the <strong>Visualize</strong> CodeLens to go to the Data Mapper view.</p>
<p><img src="https://wso2.com/ballerina/vscode/docs/img/visual-programming/datamapper/open-via-code-lens.gif" class="cInlineImage-full"/></p>
<h3 id="open-with-the-diagram-view">Open with the Diagram View<a class="headerlink" href="#open-with-the-diagram-view" title="Permanent link">&para;</a></h3>
<p>Open the file in the Diagram View and click <code class="codehilite">+ Component</code> button. Then, select the desired file and click <strong>Data Mapper</strong> in the <strong>Add Constructs</strong> pane.</p>
<p><img src="https://wso2.com/ballerina/vscode/docs/img/visual-programming/datamapper/open-via-diagram.gif" class="cInlineImage-full"/></p>
<h2 id="provide-inputs-and-output">Provide inputs and output<a class="headerlink" href="#provide-inputs-and-output" title="Permanent link">&para;</a></h2>
<p>Once the Data mapper is opened, it will prompt you to provide inputs and output of the transformation function. Inputs and the output can be any data type in Ballerina. This example converts JSON and array of JSON to JSON, and thereby, you can use Ballerina record types as inputs and output.</p>
<p>In the Data Mapper form, you have several options to provide the input and output records. If the records are already defined in your package, you can select one of those. If you are starting from scratch, you can either create the record from the Record Editor view or import a JSON to create a matching record.</p>
<p>This example imports JSON files and creates the records as shown below.</p>
<p><img src="https://wso2.com/ballerina/vscode/docs/img/visual-programming/datamapper/define-inputs-n-output.gif" class="cInlineImage-full"/></p>
<p>Once you define the input and the output types, click <strong>Save</strong> to open the mapping view. </p>
<h2 id="define-the-mappings">Define the mappings<a class="headerlink" href="#define-the-mappings" title="Permanent link">&para;</a></h2>
<p>Let's see how to map the input fields with the fields in the JSON output.</p>
<h3 id="basic-mapping">Basic mapping<a class="headerlink" href="#basic-mapping" title="Permanent link">&para;</a></h3>
<p>Map the <code class="codehilite">person id</code> to the <code class="codehilite">student id</code> as shown below.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>The mapping view will have the <strong>Inputs</strong> on the left hand side of the UI and the <strong>Output</strong> on the right. To map the fields, click on the input field and then, click the output field. If the input and output fields are compatible and can be mapped directly, you will see a solid line connecting them.</p>
</div>
<p><img src="https://wso2.com/ballerina/vscode/docs/img/visual-programming/datamapper/basic-mapping.gif" class="cInlineImage-full"/></p>
<h3 id="diagnose-and-fix-mapping-errors">Diagnose and fix mapping errors<a class="headerlink" href="#diagnose-and-fix-mapping-errors" title="Permanent link">&para;</a></h3>
<p>Use the <code class="codehilite">toBalString</code> lang lib function to convert the int to string as shown below.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>When you map the input fields to output fields, some of them might not be compatible due to type mismatch. In this example, if you map the <code class="codehilite">person age</code> to <code class="codehilite">student</code> age, it will result in an type mismatch error since the <code class="codehilite">input age</code> type is an integer and the <code class="codehilite">output age</code> type is a string. In this case, the Data Mapper will connect the two fields with a red line and show an alert sign. You can see the error by hovering over the alert sign. In this case, it will show the <code class="codehilite">incompatible types: expected 'string', found 'int'</code> error. To fix the error, hover over the alert sign and click <strong>Fix by editing expression</strong>. Then, the Data Mapper will pop out the expression editor for the specific expression. Now, you can modify the expression to return a string.</p>
</div>
<p><img src="https://wso2.com/ballerina/vscode/docs/img/visual-programming/datamapper/fix-diagnostics.gif" class="cInlineImage-full"/></p>
<p>Once you fix the error, the connection appears in blue to indicate that there are no errors.</p>
<h3 id="aggregate-input-and-output-fields">Aggregate input and output fields<a class="headerlink" href="#aggregate-input-and-output-fields" title="Permanent link">&para;</a></h3>
<p>You can derive one output parameter by combining two or more input parameters. In this example, the value for the <code class="codehilite">fullName</code> output parameter is a combination of the values of the <code class="codehilite">firstName</code> and <code class="codehilite">lastName</code> input parameters. You can map them as shown below:</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>To aggregate fields, you can map two or more fields to the same output field. The Data Mapper will automatically combine the two fields and assign them to the output field. By default, the fields will be combined with a plus operator. If you want to use a different operator or method to combine two fields, you can click on the <strong>Code</strong> button and customize the expression with the expression editor.</p>
</div>
<p><img src="https://wso2.com/ballerina/vscode/docs/img/visual-programming/datamapper/concatination.gif" class="cInlineImage-full"/></p>
<h3 id="map-the-arrays">Map the arrays<a class="headerlink" href="#map-the-arrays" title="Permanent link">&para;</a></h3>
<p>To convert from one array type to another, you can simply map the input array to the output array. If the arrays are compatible, they will be connected with a blue line. If they are incompatible, the connecting line will appear in red.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>You can use Ballerina query support to convert one array type to another. To use a query in a Data Mapper, you can select the array by clicking on it. Then, it will provide you with several buttons. Click the code action button (bulb sign) and select <strong>Convert to query</strong>. Then, the Data Mapper will convert the mapping to a query. Then, move into the query and do the mapping between the array types.</p>
</div>
<p><img src="https://wso2.com/ballerina/vscode/docs/img/visual-programming/datamapper/convert-to-query.gif" class="cInlineImage-full"/></p>
<h4>Process the data further</h4>
<p>You can further process the data within the query expression. Currently, the Data Mapper supports the following intermediate clauses.</p>
<table>
<thead>
<tr>
<th>Clause</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="codehilite">Where</code></td>
<td>Filter data based on a given condition.</td>
</tr>
<tr>
<td><code class="codehilite">Let</code></td>
<td>Define local variables within the query expression.</td>
</tr>
<tr>
<td><code class="codehilite">Limit</code></td>
<td>Limit the number of elements returned from the query expression.</td>
</tr>
<tr>
<td><code class="codehilite">Order by</code></td>
<td>Sort data within the query expression in <code class="codehilite">ascending</code> or <code class="codehilite">descending</code> order.</td>
</tr>
<tr>
<td><code class="codehilite">Join</code></td>
<td>Perform an inner join.</td>
</tr>
<tr>
<td><code class="codehilite">Outer join</code></td>
<td>Perform left outer join.</td>
</tr>
</tbody>
</table>
<p><img src="https://wso2.com/ballerina/vscode/docs/img/visual-programming/datamapper/further-processing.gif" class="cInlineImage-full"/></p>
<p>Once the array type mapping is completed, select the transform function name in the top breadcrumb bar to navigate to the root view of mapping.</p>
<h3 id="add-local-variables">Add local variables<a class="headerlink" href="#add-local-variables" title="Permanent link">&para;</a></h3>
<p>You can define local variables within the transformation function and re-use them in multiple places to avoid duplications.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>If there are no existing local variables, you can open up the local variable pane by clicking the <strong>Add Local Variable</strong> button. Otherwise, the defined local variables are listed down under <strong>local variables</strong> in the RHS of the UI. You will be able to access the local variable pane by clicking the <strong>Edit</strong> button there.</p>
</div>
<p><img src="https://wso2.com/ballerina/vscode/docs/img/visual-programming/datamapper/add-local-variable.gif" class="cInlineImage-full"/></p>
<h3 id="manipulate-fields-without-drawing-connections">Manipulate fields without drawing connections<a class="headerlink" href="#manipulate-fields-without-drawing-connections" title="Permanent link">&para;</a></h3>
<p>Click the triple dots button at the end of the field to see the actions that can be performed for the selected field.</p>
<h4>Initialize arrays, add, and delete elements</h4>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>The actions are provided based on the type of the selected field. If you click on the triple dots button of an array-typed field, you will see the <strong>Initialize Array</strong> option.</p>
</div>
<p>Once the array is initialized, you can add array elements by clicking the <strong>+ Add Element</strong> button.
Furthermore, clicking the triple dots button on any array element will provide the option to delete that element.</p>
<p><img src="https://wso2.com/ballerina/vscode/docs/img/visual-programming/datamapper/array-manipulation.gif" class="cInlineImage-full"/></p>
<h4>Add/Edit constant values/expressions</h4>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>If a particular field is empty and accepting a constant/expression, you will see the <strong>Add value</strong> action after clicking the triple dots button. This will open up the expression editor and you will be able to provide a constant value or construct any complex expression in it.</p>
</div>
<ol>
<li>
<p>Add a hard-coded visa type for foreign students.</p>
<p><img src="https://wso2.com/ballerina/vscode/docs/img/visual-programming/datamapper/add-inline-expr.gif" class="cInlineImage-full"/></p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>If a particular field is having a value, you will see the <strong>Edit value</strong> action once you click the triple dots button.</p>
</div>
</li>
<li>
<p>Add an 'F' suffix to the <code class="codehilite">student id</code> of each foreign student.</p>
<p><img src="https://wso2.com/ballerina/vscode/docs/img/visual-programming/datamapper/edit-inline-expr.gif" class="cInlineImage-full"/></p>
</li>
<li>
<p>Fill the <code class="codehilite">totalCredits</code> field by getting the summation of the credits in each CS course.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You can use the <a href="https://lib.ballerina.io/ballerina/lang.array/0.0.0/functions#reduce"><code class="codehilite">reduce()</code></a> array function for this by passing the combining function below to get the sum.</p>
</div>
<pre class="codehilite"><code class="language-ballerina linenums">var totalCredits = function(int total, record {string id; string name; int credits;} course) returns int =&gt; total + (course.id.startsWith("CS") ? course.credits : 0);</code></pre>

</li>
</ol>
<p><img src="https://wso2.com/ballerina/vscode/docs/img/visual-programming/datamapper/use-reduce-array-function.gif" class="cInlineImage-full"/></p>
<p>Now, you have successfully configured the transformation function using the Data Mapper.</p>
<p>The following is the source associated with this guide along with a main function to invoke the transformation function with some sample data.</p>
<pre class="codehilite"><code class="language-ballerina linenums">import ballerina/io;

type Person record {
    string id;
    string firstName;
    string lastName;
    int age;
    string country;
};

type Course record {
    string id;
    string name;
    int credits;
};

type Student record {
    string id;
    string fullName;
    string age;
    record {
        string title;
        int credits;
    }[] courses;
    int totalCredits;
    string visaType;
};

const D_TIER_4_VISA = "D tier-4";

var totalCredits = function(int total, record {string id; string name; int credits;} course) returns int =&gt; total + (course.id.startsWith("CS") ? course.credits : 0);

function transform(Person person, Course[] courses) returns Student =&gt; let var isForeign = person.country != "LK" in {
        id: person.id + (isForeign ? "F" : ""),
        age: person.age.toString(),
        fullName: person.firstName + " " + person.lastName,
        courses: from var coursesItem in courses
            where coursesItem.id.startsWith("CS")
            select {
                title: coursesItem.id + " - " + coursesItem.name,
                credits: coursesItem.credits
            },
        visaType: isForeign ? D_TIER_4_VISA : "n/a",
        totalCredits: courses.reduce(totalCredits, 0)
    };

public function main() {
    Person person = {
        id: "1001",
        firstName: "Vinnie",
        lastName: "Hickman",
        age: 15,
        country: "UK"
    };

    Course[] courses = [
            {
                id: "CS6002",
                name: "Computation Structures",
                credits: 4
            },
            {
                id: "CS6003",
                name: "Circuits and Electronics",
                credits: 3
            },
            {
                id: "CM1001",
                name: "Computational Statistics",
                credits: 4
            },
            {
                id: "CS6004",
                name: "Signals and Systems",
                credits: 3
            }
        ];

    Student student = transform(person, courses);
    io:println(student);
}
</code></pre>
                
                  
                
              
<a href="#" class="cd-top text--replace js-cd-top">Top</a>

              
                


              
            </article>

            
            <div class="md-footer-nav">
              <nav class="md-footer-nav__inner md-grid">
                
                <a href="../architecture-view/type-diagram/" title="Type Diagram" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
                  <div class="md-flex__cell md-flex__cell--shrink">
                    <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
                  </div>
                  <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
                      <span class="md-flex__ellipsis">
                        <span class="md-footer-nav__direction">
                          Previous
                        </span>
                        Type Diagram
                      </span>
                  </div>
                </a>
                
                
                <a href="../http-api-designer/" title="HTTP API Designer" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
                  <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
                      <span class="md-flex__ellipsis">
                        <span class="md-footer-nav__direction">
                          Next
                        </span>
                        HTTP API Designer
                      </span>
                  </div>
                  <div class="md-flex__cell md-flex__cell--shrink">
                    <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
                  </div>
                </a>
                
              </nav>
            </div>
            

          </div>
        </div>
      </main>
    </div>
  <div>

  </div>
    
      <script src="../../assets/javascripts/application.198c86c7.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
        <script src="../../assets/lib/json-formatter/json-formatter.umd.js"></script>
      
        <script src="../../assets/lib/highlightjs/highlight.min.js"></script>
      
        <script src="../../assets/lib/prism/prism.js"></script>
      
        <script src="../../assets/js/theme.js"></script>
      
        <script src="../../assets/js/prism-ballerina.js"></script>
      
        <script src="../../assets/lib/backtotop/js/util.js"></script>
      
        <script src="../../assets/lib/backtotop/js/main.js"></script>
      
    
  </body>
  <footer>
  
  
<footer class="md-footer">
  

  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright cChoreoCopyrght">
        
            Copyright © WSO2 LLC (2022-2023)
        
      </div>
    </div>
  </div>
</footer>
  
    </footer>

  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
  <script type="text/javascript"> docsearch({
    apiKey: '5f597bdf20ba061fa37895070d3144b4',
    appId: '97JMLUMIZJ',
    indexName: 'ballerina_vscode_docs',
    inputSelector: ".md-search__input",
    debug: true // Set debug to true if you want to inspect the dropdown
  });
  </script>
</html>